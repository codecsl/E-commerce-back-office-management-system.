(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49a1183a"],{"1bab":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n("cebe"),r=n.n(a),o=n("1af2"),i=n.n(o);function u(t){var e=r.a.create({baseURL:"http://127.0.0.1:8888/api/private/v1/",timeout:1e4});return e.interceptors.request.use((function(t){return t.headers.Authorization=window.sessionStorage.getItem("token"),i.a.start(),t})),e.interceptors.response.use((function(t){return i.a.done(),t})),e(t)}},"1dde":function(t,e,n){var a=n("d039"),r=n("b622"),o=n("2d00"),i=r("species");t.exports=function(t){return o>=51||!a((function(){var e=[],n=e.constructor={};return n[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"4d8e":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goodsliebiao"},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),n("el-breadcrumb-item",[n("a",{attrs:{href:"this.$rote.path"}},[t._v("商品管理")])]),n("el-breadcrumb-item",[t._v("商品列表")])],1),n("el-card",{staticClass:"box-card"},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search()}},model:{value:t.input3,callback:function(e){t.input3=e},expression:"input3"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.search},slot:"append"})],1)],1),n("el-col",{attrs:{span:4}},[n("el-button",{attrs:{type:"primary"},on:{click:t.tjshangping}},[t._v("添加商品")])],1)],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.shuju,stripe:""}},[n("el-table-column",{attrs:{label:"id",type:"index"}}),n("el-table-column",{attrs:{prop:"goods_name",label:"商品名称",width:"500"}}),n("el-table-column",{attrs:{prop:"goods_price",label:"商品价格(元)"}}),n("el-table-column",{attrs:{prop:"goods_number",label:"商品数量"}}),n("el-table-column",{attrs:{label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.timestampToTime(e.row.upd_time)))]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(n){return t.bj(e.row)}}}),n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(n){return t.open(e.row.goods_id)}}})]}}])})],1),n("el-pagination",{attrs:{"current-page":t.canshu.pagenum,"page-sizes":[5,10,15,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),n("el-dialog",{attrs:{title:"编辑",visible:t.bjdialogVisible,width:"50%"},on:{"update:visible":function(e){t.bjdialogVisible=e}}},[n("el-form",{ref:"bjrule",attrs:{"label-width":"100px",model:t.bjname,rules:t.rules}},[n("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[n("el-input",{model:{value:t.bjname.goods_name,callback:function(e){t.$set(t.bjname,"goods_name",e)},expression:"bjname.goods_name"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.bjdialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.qd}},[t._v("确 定")])],1)],1)],1)],1)},r=[],o=n("d8fa"),i={name:"component_name",data:function(){return{canshu:{query:"",pagenum:1,pagesize:5},shuju:[],total:0,input3:"",bjdialogVisible:!1,rules:{goods_name:[{required:!0,message:"请输入商品名称",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"}]},bjname:{}}},methods:{search:function(){if(this.canshu.query=this.input3,this.zongshuju(this.canshu),""==this.input3)return this.zongshuju(this.canshu)},tjshangping:function(){this.$router.push("/add")},bj:function(t){var e=this;this.bjdialogVisible=!0,Object(o["c"])(t.goods_id).then((function(t){var n=t.data;if(200!=n.meta.status)return e.$message.error("获取数据失败");e.bjname=n.data}))},qd:function(){var t=this;console.log(this.bjname),Object(o["d"])(this.bjname).then((function(e){t.jcfz(e,200,"编辑失败","编辑成功")})),this.bjdialogVisible=!1,this.zongshuju(this.canshu)},open:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["l"])(t).then((function(t){e.jcfz(t,200,"删除失败","删除成功"),e.zongshuju(e.canshu)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},zongshuju:function(t){var e=this;Object(o["i"])(t).then((function(t){var n=t.data;if(200!=n.meta.status)return e.$message.error("数据请求失败");console.log(n),e.shuju=n.data.goods,e.total=n.data.total}))},handleSizeChange:function(t){this.canshu.pagesize=t,this.zongshuju(this.canshu)},handleCurrentChange:function(t){this.canshu.pagenum=t,this.zongshuju(this.canshu)},jcfz:function(t,e,n,a){var r=t.data;if(r.meta.status!=e)return this.$message.error("".concat(n));this.$message.success("".concat(a))},timestampToTime:function(t){var e=new Date(1e3*t),n=e.getFullYear()+"-",a=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",r=e.getDate()+" ",o=e.getHours()+":",i=e.getMinutes()+":",u=e.getSeconds();return n+a+r+o+i+u}},created:function(){this.zongshuju(this.canshu)}},u=i,c=(n("71b5"),n("2877")),s=Object(c["a"])(u,a,r,!1,null,"64a92e1b",null);e["default"]=s.exports},"65f0":function(t,e,n){var a=n("861d"),r=n("e8b5"),o=n("b622"),i=o("species");t.exports=function(t,e){var n;return r(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?a(n)&&(n=n[i],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"71b5":function(t,e,n){"use strict";var a=n("8cac"),r=n.n(a);r.a},8418:function(t,e,n){"use strict";var a=n("c04e"),r=n("9bf2"),o=n("5c6c");t.exports=function(t,e,n){var i=a(e);i in t?r.f(t,i,o(0,n)):t[i]=n}},"8cac":function(t,e,n){},"99af":function(t,e,n){"use strict";var a=n("23e7"),r=n("d039"),o=n("e8b5"),i=n("861d"),u=n("7b0b"),c=n("50c4"),s=n("8418"),l=n("65f0"),d=n("1dde"),g=n("b622"),f=n("2d00"),p=g("isConcatSpreadable"),h=9007199254740991,b="Maximum allowed index exceeded",m=f>=51||!r((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),_=d("concat"),v=function(t){if(!i(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)},j=!m||!_;a({target:"Array",proto:!0,forced:j},{concat:function(t){var e,n,a,r,o,i=u(this),d=l(i,0),g=0;for(e=-1,a=arguments.length;e<a;e++)if(o=-1===e?i:arguments[e],v(o)){if(r=c(o.length),g+r>h)throw TypeError(b);for(n=0;n<r;n++,g++)n in o&&s(d,g,o[n])}else{if(g>=h)throw TypeError(b);s(d,g++,o)}return d.length=g,d}})},d8fa:function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"n",(function(){return o})),n.d(e,"p",(function(){return i})),n.d(e,"j",(function(){return u})),n.d(e,"k",(function(){return c})),n.d(e,"e",(function(){return s})),n.d(e,"m",(function(){return l})),n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return g})),n.d(e,"f",(function(){return f})),n.d(e,"g",(function(){return p})),n.d(e,"i",(function(){return h})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return m})),n.d(e,"l",(function(){return _})),n.d(e,"o",(function(){return v}));n("99af");var a=n("1bab");function r(t){var e=t.type,n=t.pagenum,r=t.pagesize;return Object(a["a"])({url:"categories",method:"get",params:{type:e,pagenum:n,pagesize:r}})}function o(t){var e=t.cat_pid,n=t.cat_name,r=t.cat_level;return Object(a["a"])({url:"categories",method:"post",data:{cat_pid:e,cat_name:n,cat_level:r}})}function i(t){return Object(a["a"])({url:"categories/".concat(t),method:"get"})}function u(t,e){return Object(a["a"])({url:"categories/".concat(t),method:"put",data:{cat_name:e}})}function c(t){return Object(a["a"])({url:"categories/".concat(t),method:"delete"})}function s(t,e){return Object(a["a"])({url:"categories/".concat(t,"/attributes"),method:"get",params:{sel:"".concat(e)}})}function l(t,e,n,r){return Object(a["a"])({url:"categories/".concat(t,"/attributes"),method:"post",data:{attr_name:e,attr_sel:n,attr_vals:r}})}function d(t,e,n,r){return Object(a["a"])({url:"categories/".concat(t,"/attributes/").concat(e),method:"get",params:{attr_sel:n,attr_vals:r}})}function g(t){var e=t.cat_id,n=t.attr_id,r=t.attr_name,o=t.attr_sel,i=t.attr_vals;return Object(a["a"])({url:"categories/".concat(e,"/attributes/").concat(n),method:"put",data:{attr_name:r,attr_sel:o,attr_vals:i}})}function f(t,e){return Object(a["a"])({url:"categories/".concat(t,"/attributes/").concat(e),method:"delete"})}function p(t,e,n,r,o){return Object(a["a"])({url:"categories/".concat(t,"/attributes/").concat(e),method:"put",data:{attr_name:n,attr_sel:r,attr_vals:o}})}function h(t){var e=t.query,n=t.pagenum,r=t.pagesize;return Object(a["a"])({url:"goods",method:"get",params:{query:e,pagenum:n,pagesize:r}})}function b(t){return Object(a["a"])({url:"goods/".concat(t),method:"get"})}function m(t){var e=t.cat_id,n=t.goods_name,r=t.goods_price,o=t.goods_number,i=t.goods_weight;return Object(a["a"])({url:"goods/".concat(e),method:"put",data:{goods_name:n,goods_price:r,goods_number:o,goods_weight:i,goods_introduce:"",pics:"",attrs:""}})}function _(t){return Object(a["a"])({url:"goods/".concat(t),method:"delete"})}function v(t){var e=t.goods_name,n=t.goods_price,r=t.goods_number,o=t.goods_weight,i=t.goods_cat,u=t.pics,c=t.goods_introduce,s=t.attr;return Object(a["a"])({url:"goods",method:"post",data:{goods_name:e,goods_price:n,goods_number:r,goods_weight:o,goods_cat:i,pics:u,goods_introduce:c,attr:s}})}},e8b5:function(t,e,n){var a=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}}}]);
//# sourceMappingURL=chunk-49a1183a.bbc31131.js.map