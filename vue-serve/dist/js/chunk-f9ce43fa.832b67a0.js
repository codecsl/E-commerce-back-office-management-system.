(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f9ce43fa"],{"1bab":function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var n=a("cebe"),r=a.n(n),o=a("1af2"),i=a.n(o);function c(t){var e=r.a.create({baseURL:"http://127.0.0.1:8888/api/private/v1/",timeout:1e4});return e.interceptors.request.use((function(t){return t.headers.Authorization=window.sessionStorage.getItem("token"),i.a.start(),t})),e.interceptors.response.use((function(t){return i.a.done(),t})),e(t)}},"1dde":function(t,e,a){var n=a("d039"),r=a("b622"),o=a("2d00"),i=r("species");t.exports=function(t){return o>=51||!n((function(){var e=[],a=e.constructor={};return a[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"5a9e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goodsfeilei"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),a("el-breadcrumb-item",[a("a",{attrs:{href:"this.$rote.path"}},[t._v("商品管理")])]),a("el-breadcrumb-item",[t._v("商品分类")])],1),a("el-card",{staticClass:"box-card goodsa"},[a("el-button",{staticClass:"addfeilei",attrs:{type:"primary"},on:{click:t.dakai}},[t._v("添加分类")]),a("tree-table",{staticClass:"treetable",attrs:{data:t.goodsinfodata,columns:t.columns,"selection-type":!1,"expand-type":!1,"show-index":"",border:""},scopedSlots:t._u([{key:"likes",fn:function(t){return[(t.row.cat_deleted=!0)?a("i",{staticClass:"el-icon-success",staticStyle:{color:"lightgreen"}}):a("i",{staticClass:"el-icon-error",staticStyle:{color:"red"}})]}},{key:"level",fn:function(e){return[0===e.row.cat_level?a("el-tag",[t._v("一级")]):1===e.row.cat_level?a("el-tag",{attrs:{type:"success"}},[t._v("二级")]):a("el-tag",{attrs:{type:"warning"}},[t._v("三级")])]}},{key:"caozuo",fn:function(e){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return t.bianji(e.row.cat_id)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.open(e.row.cat_id)}}},[t._v("删除")])]}}])}),a("el-pagination",{attrs:{"current-page":t.morencan.pagenum,"page-sizes":[1,3,5,7],"page-size":t.morencan.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("el-dialog",{attrs:{title:"添加分类",visible:t.addialogVisible,width:"50%"},on:{"update:visible":function(e){t.addialogVisible=e}}},[a("el-form",{ref:"ruleForm",attrs:{model:t.addcatform,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"分类名称",prop:"cat_name"}},[a("el-input",{model:{value:t.addcatform.cat_name,callback:function(e){t.$set(t.addcatform,"cat_name",e)},expression:"addcatform.cat_name"}})],1),a("el-form-item",{attrs:{label:"父级分类"}},[a("el-cascader",{attrs:{options:t.fuji,props:t.casdprop,clearable:""},on:{change:t.gaibian},model:{value:t.selectid,callback:function(e){t.selectid=e},expression:"selectid"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.quxiaoa}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.queding}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"编辑r",visible:t.bidialogVisible,width:"50%"},on:{"update:visible":function(e){t.bidialogVisible=e}}},[a("el-form",{ref:"rulel",attrs:{model:t.morenming,"label-width":"100px",rules:t.rules}},[a("el-form-item",{attrs:{label:"修改分类",prop:"cat_name"}},[a("el-input",{model:{value:t.morenming.cat_name,callback:function(e){t.$set(t.morenming,"cat_name",e)},expression:"morenming.cat_name"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.bidialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.quedingxiugai}},[t._v("确 定")])],1)],1)],1)],1)},r=[],o=a("d8fa"),i={name:"component_name",data:function(){return{morencan:{type:"",pagenum:1,pagesize:5},goodsinfodata:[],total:0,currentPage4:1,addialogVisible:!1,rules:{cat_name:[{required:!0,message:"请输入分类名称",trigger:"blur"},{min:2,max:6,message:"长度在 2 到 6 个字符",trigger:"blur"}]},addcatform:{cat_name:"",cat_level:0,cat_pid:0},fuji:[],selectid:[],casdprop:{value:"cat_id",label:"cat_name",children:"children"},bidialogVisible:!1,morenming:{},columns:[{label:"分类名称",prop:"cat_name",width:300},{label:"是否有效",type:"template",template:"likes",width:200},{label:"等级",type:"template",template:"level",width:200},{label:"操作",type:"template",template:"caozuo"}]}},methods:{handleSizeChange:function(t){this.morencan.pagesize=t,this.getgoods(this.morencan)},handleCurrentChange:function(t){this.morencan.pagenum=t,this.getgoods(this.morencan)},dakai:function(){var t=this;this.addialogVisible=!0,Object(o["h"])({type:2,pagenum:"",pagesize:""}).then((function(e){var a=e.data;if(200!=a.meta.status)return t.$message.error("数据请求失败");t.fuji=a.data}))},queding:function(){var t=this;this.$refs.ruleForm.validate((function(e){if(!e)return t.$message.error("请输入完相应信息");Object(o["n"])(t.addcatform).then((function(e){var a=e.data;if(201!==a.meta.status)return t.$message.error("添加失败");t.$message.success("添加成功")})),t.getgoods(t.morencan),t.addialogVisible=!1}))},quxiaoa:function(){this.$refs.ruleForm.resetFields(),this.addialogVisible=!1},gaibian:function(){this.selectid.length>0?(this.addcatform.cat_pid=this.selectid[this.selectid.length-1],this.addcatform.cat_level=this.selectid.length,console.log(this.addcatform)):(this.addcatform.cat_pid=0,this.addcatform.cat_level=0)},bianji:function(t){var e=this;this.bidialogVisible=!0,Object(o["p"])(t).then((function(t){var a=t.data;if(200!=a.meta.status)return e.$message.error("获取数据失败");e.morenming=a.data}))},quedingxiugai:function(){var t=this;this.$refs.rulel.validate((function(e){if(!e)return t.$message.error("请将信息填写完整");Object(o["j"])(t.morenming.cat_id,t.morenming.cat_name).then((function(e){var a=e.data;if(200!=a.meta.status)return t.$message.error("请检查网络环境");t.$message.success("修改成功")})),t.getgoods(t.morencan),t.bidialogVisible=!1}))},open:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["k"])(t).then((function(t){var a=t.data;if(200!=a.meta.status)return e.$message.error("删除失败");e.$message({type:"success",message:"删除成功!"}),e.getgoods(e.morencan)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},getgoods:function(t){var e=this;Object(o["h"])(t).then((function(t){var a=t.data;if(e.total=a.data.total,200!=a.meta.status)return e.$message.error("获取数据失败");e.goodsinfodata=a.data.result}))}},created:function(){this.getgoods(this.morencan)}},c=i,s=(a("8b5c"),a("2877")),u=Object(s["a"])(c,n,r,!1,null,"1f456ba0",null);e["default"]=u.exports},"65f0":function(t,e,a){var n=a("861d"),r=a("e8b5"),o=a("b622"),i=o("species");t.exports=function(t,e){var a;return r(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?n(a)&&(a=a[i],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},7345:function(t,e,a){},8418:function(t,e,a){"use strict";var n=a("c04e"),r=a("9bf2"),o=a("5c6c");t.exports=function(t,e,a){var i=n(e);i in t?r.f(t,i,o(0,a)):t[i]=a}},"8b5c":function(t,e,a){"use strict";var n=a("7345"),r=a.n(n);r.a},"99af":function(t,e,a){"use strict";var n=a("23e7"),r=a("d039"),o=a("e8b5"),i=a("861d"),c=a("7b0b"),s=a("50c4"),u=a("8418"),l=a("65f0"),d=a("1dde"),m=a("b622"),g=a("2d00"),f=m("isConcatSpreadable"),p=9007199254740991,b="Maximum allowed index exceeded",h=g>=51||!r((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),_=d("concat"),v=function(t){if(!i(t))return!1;var e=t[f];return void 0!==e?!!e:o(t)},y=!h||!_;n({target:"Array",proto:!0,forced:y},{concat:function(t){var e,a,n,r,o,i=c(this),d=l(i,0),m=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?i:arguments[e],v(o)){if(r=s(o.length),m+r>p)throw TypeError(b);for(a=0;a<r;a++,m++)a in o&&u(d,m,o[a])}else{if(m>=p)throw TypeError(b);u(d,m++,o)}return d.length=m,d}})},d8fa:function(t,e,a){"use strict";a.d(e,"h",(function(){return r})),a.d(e,"n",(function(){return o})),a.d(e,"p",(function(){return i})),a.d(e,"j",(function(){return c})),a.d(e,"k",(function(){return s})),a.d(e,"e",(function(){return u})),a.d(e,"m",(function(){return l})),a.d(e,"a",(function(){return d})),a.d(e,"b",(function(){return m})),a.d(e,"f",(function(){return g})),a.d(e,"g",(function(){return f})),a.d(e,"i",(function(){return p})),a.d(e,"c",(function(){return b})),a.d(e,"d",(function(){return h})),a.d(e,"l",(function(){return _})),a.d(e,"o",(function(){return v}));a("99af");var n=a("1bab");function r(t){var e=t.type,a=t.pagenum,r=t.pagesize;return Object(n["a"])({url:"categories",method:"get",params:{type:e,pagenum:a,pagesize:r}})}function o(t){var e=t.cat_pid,a=t.cat_name,r=t.cat_level;return Object(n["a"])({url:"categories",method:"post",data:{cat_pid:e,cat_name:a,cat_level:r}})}function i(t){return Object(n["a"])({url:"categories/".concat(t),method:"get"})}function c(t,e){return Object(n["a"])({url:"categories/".concat(t),method:"put",data:{cat_name:e}})}function s(t){return Object(n["a"])({url:"categories/".concat(t),method:"delete"})}function u(t,e){return Object(n["a"])({url:"categories/".concat(t,"/attributes"),method:"get",params:{sel:"".concat(e)}})}function l(t,e,a,r){return Object(n["a"])({url:"categories/".concat(t,"/attributes"),method:"post",data:{attr_name:e,attr_sel:a,attr_vals:r}})}function d(t,e,a,r){return Object(n["a"])({url:"categories/".concat(t,"/attributes/").concat(e),method:"get",params:{attr_sel:a,attr_vals:r}})}function m(t){var e=t.cat_id,a=t.attr_id,r=t.attr_name,o=t.attr_sel,i=t.attr_vals;return Object(n["a"])({url:"categories/".concat(e,"/attributes/").concat(a),method:"put",data:{attr_name:r,attr_sel:o,attr_vals:i}})}function g(t,e){return Object(n["a"])({url:"categories/".concat(t,"/attributes/").concat(e),method:"delete"})}function f(t,e,a,r,o){return Object(n["a"])({url:"categories/".concat(t,"/attributes/").concat(e),method:"put",data:{attr_name:a,attr_sel:r,attr_vals:o}})}function p(t){var e=t.query,a=t.pagenum,r=t.pagesize;return Object(n["a"])({url:"goods",method:"get",params:{query:e,pagenum:a,pagesize:r}})}function b(t){return Object(n["a"])({url:"goods/".concat(t),method:"get"})}function h(t){var e=t.cat_id,a=t.goods_name,r=t.goods_price,o=t.goods_number,i=t.goods_weight;return Object(n["a"])({url:"goods/".concat(e),method:"put",data:{goods_name:a,goods_price:r,goods_number:o,goods_weight:i,goods_introduce:"",pics:"",attrs:""}})}function _(t){return Object(n["a"])({url:"goods/".concat(t),method:"delete"})}function v(t){var e=t.goods_name,a=t.goods_price,r=t.goods_number,o=t.goods_weight,i=t.goods_cat,c=t.pics,s=t.goods_introduce,u=t.attr;return Object(n["a"])({url:"goods",method:"post",data:{goods_name:e,goods_price:a,goods_number:r,goods_weight:o,goods_cat:i,pics:c,goods_introduce:s,attr:u}})}},e8b5:function(t,e,a){var n=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}}}]);
//# sourceMappingURL=chunk-f9ce43fa.832b67a0.js.map